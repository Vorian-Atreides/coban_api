package main

import (
	"log"
	"net/http"
	"os"

	"encoding/base64"
)

func main() {
	router := NewRouter()

	port := os.Getenv("PORT")
	if port == "" {
		log.Fatal("PORT environment wasn't set.")
	}

	str := base64.StdEncoding.EncodeToString([]byte{0x16, 0x01, 0x00, 0x02, 0x20, 0x4A, 0xE5, 0x2B, 0xCE, 0x21, 0x27, 0x0F, 0x00, 0x0A, 0xBA, 0x00})
	log.Println(str)
	str = base64.StdEncoding.EncodeToString([]byte{0x16, 0x01, 0x00, 0x02, 0x20, 0x4A, 0xE3, 0x3E, 0xE3, 0x30, 0x8B, 0x07, 0x00, 0x0A, 0xB3, 0x00})
	log.Println(str)
	str = base64.StdEncoding.EncodeToString([]byte{0x16, 0x01, 0x00, 0x02, 0x20, 0x4A, 0xCE, 0x21, 0xD2, 0x02, 0x4E, 0x08, 0x00, 0x0A, 0xB1, 0x00})
	log.Println(str)
	// value := [16]byte{0x16, 0x01, 0x00, 0x02, 0x20, 0x4A, 0xE5, 0x2B, 0xCE, 0x21, 0x27, 0x0F, 0x00, 0x0A, 0xBA, 0x00}
	// common.ParseTransportHistory(value)
	log.Fatal(http.ListenAndServe(":"+port, router))
}
